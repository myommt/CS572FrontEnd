import{a as I,b as N,c as x,d as T,e as A,f as E,g as H,h as q,i as G,j as L,k as O}from"./chunk-IZ2RRJJK.js";import"./chunk-4TDNJBFX.js";import{a as P}from"./chunk-C2EWWCXY.js";import{b as y,d as l,f as C,g as _,j as k,k as w,l as V,p as F,q as B}from"./chunk-RGHW7JZX.js";import{d as S}from"./chunk-OEPH3VZB.js";import{Ab as M,Bb as c,Ga as r,Ib as Y,Sa as v,Y as s,cb as o,ea as d,fa as u,jb as n,kb as m,lb as p,mb as D,pb as g}from"./chunk-PEAAODBY.js";import"./chunk-4CLCTAJ7.js";var R=class h{#e=s(P);#t=s(S);form=s(F).nonNullable.group({title:["",l.required],category:["",l.required],date:["",l.required],amount:["0",[l.required,l.min(0)]]});chosenYearHandler(a){let t=this.form.controls.date.value?new Date(this.form.controls.date.value):new Date;t.setFullYear(a.getFullYear()),this.form.controls.date.setValue(t.toISOString())}chosenMonthHandler(a,t){let e=this.form.controls.date.value?new Date(this.form.controls.date.value):new Date;e.setMonth(a.getMonth()),e.setDate(1),e.setHours(0,0,0,0),this.form.controls.date.setValue(e.toISOString()),t.close()}go(){let a={title:this.form.controls.title.value,category:this.form.controls.category.value,date:new Date(this.form.controls.date.value),amount:Number(this.form.controls.amount.value)};this.#e.addBudget(a).subscribe(t=>{t.success&&this.#t.navigate(["","budget"])})}static \u0275fac=function(t){return new(t||h)};static \u0275cmp=v({type:h,selectors:[["app-budgetform"]],features:[Y([{provide:I,useValue:{parse:{dateInput:"MM/YYYY"},display:{dateInput:"MM/YYYY",monthYearLabel:"MM YYYY",dateA11yLabel:"MM/YYYY",monthYearA11yLabel:"MMMM YYYY"}}}])],decls:15,vars:8,consts:[["picker",""],[1,"budget-form",3,"ngSubmit","formGroup"],["placeholder","title",3,"formControl"],["placeholder","category",3,"formControl"],["matInput","","placeholder","Choose a date",3,"matDatepicker","formControl"],["matSuffix","",3,"for"],["startView","multi-year","panelClass","month-picker",3,"yearSelected","monthSelected"],["placeholder","amount",3,"formControl"],[3,"disabled"]],template:function(t,e){if(t&1){let i=D();n(0,"h1"),c(1,"Add Budget"),m(),n(2,"form",1),g("ngSubmit",function(){return d(i),u(e.go())}),p(3,"input",2)(4,"input",3),n(5,"mat-form-field")(6,"mat-label"),c(7,"Date"),m(),p(8,"input",4)(9,"mat-datepicker-toggle",5),n(10,"mat-datepicker",6,0),g("yearSelected",function(f){return d(i),u(e.chosenYearHandler(f))})("monthSelected",function(f){d(i);let j=M(11);return u(e.chosenMonthHandler(f,j))}),m()(),p(12,"input",7),n(13,"button",8),c(14,"Update"),m()()}if(t&2){let i=M(11);r(2),o("formGroup",e.form),r(),o("formControl",e.form.controls.title),r(),o("formControl",e.form.controls.category),r(4),o("matDatepicker",i)("formControl",e.form.controls.date),r(),o("for",i),r(3),o("formControl",e.form.controls.amount),r(),o("disabled",e.form.invalid)}},dependencies:[B,k,y,C,_,w,V,O,q,G,L,N,H,E,A,x,T],styles:[".budget-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;max-width:500px;margin:auto;padding:20px;box-shadow:0 2px 4px #0000001a;border-radius:8px;background:#fff}"]})};export{R as BudgetformComponent};
